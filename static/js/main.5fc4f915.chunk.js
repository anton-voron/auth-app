(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(37)},32:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(22),o=a.n(s),l=a(5),i=a(6),c=a(8),u=a(7),m=a(9),p=(a(32),a(14)),d=function e(){var t=this;Object(l.a)(this,e),this._userId=0,this._userData=[{userFirstName:"Test",userLastName:"Test",userLogin:"Test",userEmail:"test@gmail.com",userCompany:"Test",userPassword:"tesT123$",companyDepartment:"Front-end",vacancy:"junior",userId:this._userId++}],this.textValidator=function(e){return/(^[A-Za-z]{4,})$/.test(e)?(console.log("Sutiable"),!0):"To short, numbers and special characters are not allowed"},this.passwordValidator=function(e){return/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/g.test(e)?(console.log("Sutiable"),!0):"At least 6 characters: one number, one special character, Latin lowercase and uppercase letter."},this.emailValidator=function(e){return/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+.([A-Za-z]{2,4})$/.test(e)?(console.log("Sutiable"),!0):"Invalid email"},this.submitReg=function(e,a,r,n,s,o,l){var i=t._userData.find(function(e){return e.userLogin===r||e.userEmail===n});if(void 0===i){var c=t.textValidator(e),u=t.textValidator(a),m=t.emailValidator(n),d=t.passwordValidator(o);if(!0===c&&!0===u&&!0===m&&!0===d&&o===l){var g={userFirstName:e,userLastName:a,userLogin:r,userEmail:n,userCompany:s,userPassword:o,companyDepartment:"",vacancy:"",userId:t._userId++};return t._userData.push(g),t.state=Object(p.a)({access:!0},g),console.log(t.state),alert("You have registered successfully"),!0}return o!==l?(alert("Passwords do not match"),!1):(alert("Invalid data"),!1)}return i.userEmail===n?(alert("This email has already been registered"),!1):i.userLogin===r?(alert("This login is taken by other user"),!1):void 0},this.getJSON=function(){return JSON.parse(g)},this.getDepartment=function(e){var a=t.getJSON().departments[e];return t.state=Object(p.a)({},t.state,{companyDepartment:e}),console.log(t.state),a},this.getVacancy=function(e){t.state=Object(p.a)({},t.state,{vacancy:e}),console.log(t.state)},this.onJobSubmit=function(){var e=t._userData.findIndex(function(e){return e.userLogin===t.state.userLogin&&e.userPassword===t.state.userPassword});-1!==e&&(t._userData[e]=Object(p.a)({},t.state)),console.log(t._userData)},this.getUserData=function(){return t.state},this.isLoggedIn=function(){return t.state.access},this.state={access:!1,userFirstName:null,userLastName:null,userLogin:null,userEmail:null,userCompany:null,userPassword:null,companyDepartment:null,vacancy:null,userId:null}},g='{ \n\t"departments": { \n\t\t"Sales" : ["Sales Manager", "Account Manager" ],\n\t\t"Marketing" : ["Creative Manager", "Marketing Coordinator", "Content Writer" ],\n\t\t"Technology" : [ "Project Manager", "Software Developer", "PHP programmer", "Front End", "Quality Assurance" ] \n\t} }',b=n.a.createContext(),h=b.Provider,f=b.Consumer,v=function(e,t){return function(a){return n.a.createElement(e,a,t)}},y=function(e){return function(t){return function(a){return n.a.createElement(f,null,function(r){var s=e(r);return n.a.createElement(t,Object.assign({},a,s))})}}},E=a(11),O=function(e){return function(t){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var t=this.props.isLoggedIn();return console.log(t),t?n.a.createElement(e,this.props):n.a.createElement(E.a,{to:"/"})}}]),a}(r.Component)},N=a(26),j=a(25),C=a(15),w=a(1),S=function(e){var t=e.name,a=e.label,r=e.type,s=e.symbol,o=e.value,l=e.onBlur,i=e.onChange,c=e.error,u=e.required,m="form-control";return null===c?m="form-control":!0===c?m+=" is-valid":c&&(m+=" is-invalid"),n.a.createElement("div",{className:"d-flex flex-column col-md-12"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},s)),n.a.createElement("input",{className:m,name:t,placeholder:a,type:r,"aria-label":a,onChange:i,onBlur:l,value:o,required:u})),n.a.createElement("div",{className:""},c))},L=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({name:"userFirstName",label:"First Name",type:"text",symbol:"Name",required:!0},t))},D=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({name:"userLastName",label:"Last Name",type:"text",symbol:"Surname",required:!0},t))},P=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({name:"userLogin",label:"Login",type:"text",symbol:"@",required:!0},t))},k=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({name:"userEmail",label:"Email",type:"text",symbol:"@example.com",required:!0},t))},x=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({name:"userCompany",label:"Company",type:"text",symbol:"LLC"},t))},V=function(e){var t=Object(w.a)({},e);return n.a.createElement(S,Object.assign({label:"Password",type:"password",symbol:"*****",required:!0},t))},B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={userFirstName:"",userLastName:"",userLogin:"",userEmail:"",userCompany:"",userPassword:"",confirmPassword:"",error:{errorFirstName:!1,errorLastName:!1,errorLogin:!1,errorEmail:!1,errorPassword:!1,errorConfirmPassword:!1}},a.onChange=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(C.a)({},t,r),function(){a.onBlur(t,r)})},a.onBlur=function(e,t){switch(e){case"userFirstName":var r=a.props.textValidator(t),n=Object.assign({},a.state.error);n.errorFirstName=r,a.setState({error:n});break;case"userLastName":var s=a.props.textValidator(t),o=Object.assign({},a.state.error);o.errorLastName=s,a.setState({error:o});break;case"userLogin":var l=t.length>=4||"Login is too short",i=Object.assign({},a.state.error);i.errorLogin=l,a.setState({error:i});break;case"userEmail":var c=a.props.emailValidator(t),u=Object.assign({},a.state.error);u.errorEmail=c,a.setState({error:u});break;case"userPassword":var m=a.props.passwordValidator(t),p=Object.assign({},a.state.validator);p.errorPassword=m,a.setState({error:p});break;case"confirmPassword":var d=a.props.passwordValidator(t),g=Object.assign({},a.state.validator);g.errorConfirmPassword=d,a.setState({error:g})}},a.submitReg=function(e){e.preventDefault();var t,r=a.state,n=r.error,s=Object(j.a)(r,["error"]),o=Object.keys(n).every(function(e){return!0===n[e]}),l=Object.keys(s).map(function(e){return s[e]});o?(t=a.props).submitReg.apply(t,Object(N.a)(l))&&a.props.history.push("/vacancy"):alert("You have to fill all fields")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userFirstName,a=e.userLastName,r=e.userLogin,s=e.userEmail,o=e.userCompany,l=e.userPassword,i=e.confirmPassword,c=this.state.error,u=c.errorFirstName,m=c.errorLastName,p=c.errorLogin,d=c.errorEmail,g=c.errorPassword,b=c.errorConfirmPassword;return n.a.createElement("section",{className:"container wrapper-central section-size"},n.a.createElement("form",{className:"bg-light col-md-8 wrapper-central",onSubmit:this.submitReg},n.a.createElement("h2",{className:"title mb-3"},"Register a new user"),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement(L,{onChange:this.onChange,onBlur:this.onBlur,value:t,error:u}),n.a.createElement(D,{onChange:this.onChange,onBlur:this.onBlur,value:a,error:m}),n.a.createElement(P,{onChange:this.onChange,onBlur:this.onBlur,value:r,error:p}),n.a.createElement(k,{onChange:this.onChange,onBlur:this.onBlur,value:s,error:d}),n.a.createElement(x,{onChange:this.onChange,onBlur:this.onBlur,value:o}),n.a.createElement(V,{name:"userPassword",onChange:this.onChange,onBlur:this.onBlur,value:l,error:g}),n.a.createElement(V,{name:"confirmPassword",onChange:this.onChange,onBlur:this.onBlur,value:i,error:b})),n.a.createElement("button",{type:"submit",className:"btn btn-primary",onSubmit:this.submitReg},"Submit")))}}]),t}(r.Component),I=Object(E.f)(B),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={dataJSON:"",department:"",vacancyData:[],vacancy:""},a.handleChangeDepartment=function(e){var t=e.target.value;a.setState({department:t,vacancyData:a.state.dataJSON[t]}),a.props.getDepartment(t)},a.handleChangeVacancy=function(e){var t=e.target.value;a.setState({vacancy:t}),a.props.getVacancy(t)},a.optionWrapper=function(e){return e.map(function(e){return n.a.createElement("option",{key:e.toString(),value:e},e)})},a.nextStep=function(){a.props.onJobSubmit(),a.props.history.push("/user-page")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({dataJSON:this.props.getJSON().departments})}},{key:"render",value:function(){var e=this.state,t=e.dataJSON,a=e.department,r=e.vacancyData,s=e.vacancy,o=this.optionWrapper(Object.keys(t)),l=this.optionWrapper(r);return n.a.createElement("section",{className:"container wrapper-central section-size"},n.a.createElement("div",{className:"col-md-12 bg-light p-3 wrapper-central"},n.a.createElement("h2",null," Choose your specialization "),n.a.createElement("select",{className:"custom-select mb-3",value:a,onChange:this.handleChangeDepartment},o),n.a.createElement("select",{className:"custom-select mb-3",value:s,onChange:this.handleChangeVacancy},l),n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.nextStep},"Next Step")))}}]),t}(r.Component),F=Object(E.f)(J),A=function(e){var t=e.item,a=e.field,r=e.label;return n.a.createElement("li",{className:"list-group-item",key:r.toString()},n.a.createElement("span",{className:"term"},r,": "),n.a.createElement("span",null,t[a]))},_=Object(E.f)(function(e){var t=e.getUserData,a=e.children,r=t();console.log(r);return n.a.createElement("div",{className:"container wrapper-central section-size"},n.a.createElement("section",{className:"container bg-light p-3"},n.a.createElement("h2",null," Check your informatiom "),n.a.createElement("div",{className:"item-details card"},n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.Children.map(a,function(e){return n.a.cloneElement(e,{item:r})}))),n.a.createElement("p",{className:"m-3"},"Click send if everithing correct. Click edit if you see error."),n.a.createElement("div",{className:"wrapper-central flex-row"},n.a.createElement("button",{className:"btn btn-primary mr-5",onClick:function(){e.history.push("/vacancy")}},"Edit"),n.a.createElement("button",{className:"btn btn-primary ml-5",onClick:function(){alert("You have successfully sent data")}},"Send"))))}),z=y(function(e){return{submitReg:e.submitReg,textValidator:e.textValidator,loginValidator:e.loginValidator,passwordValidator:e.passwordValidator,emailValidator:e.emailValidator}})(I),T=y(function(e){return{getJSON:e.getJSON,getDepartment:e.getDepartment,getVacancy:e.getVacancy,onJobSubmit:e.onJobSubmit,getUserData:e.getUserData,isLoggedIn:e.isLoggedIn}})(O(F)),R=y(function(e){return{getUserData:e.getUserData,isLoggedIn:e.isLoggedIn}})(v(O(_),[n.a.createElement(A,{field:"userFirstName",label:"Name"}),n.a.createElement(A,{field:"userLogin",label:"Login"}),n.a.createElement(A,{field:"userEmail",label:"Email"}),n.a.createElement(A,{field:"userCompany",label:"Company"}),n.a.createElement(A,{field:"companyDepartment",label:"Department"}),n.a.createElement(A,{field:"vacancy",label:"Job Title"})])),q=a(12),M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={loginAPI:new d},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.loginAPI;return n.a.createElement(q.a,null,n.a.createElement(h,{value:e},n.a.createElement(E.b,{path:"/",exact:!0,render:function(){return n.a.createElement(z,null)}}),n.a.createElement(E.b,{path:"/vacancy/",exact:!0,render:function(){return n.a.createElement(T,null)}}),n.a.createElement(E.b,{path:"/user-page/",exact:!0,render:function(){return n.a.createElement(R,null)}})))}}]),t}(r.Component);o.a.render(n.a.createElement(M,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.5fc4f915.chunk.js.map